(()=>{"use strict";function e(){const e=document.querySelector(".mobail-menu");document.querySelector(".burger").classList.toggle("active"),e.classList.toggle("mobail-menu--active")}const t=Object.freeze({required:e=>e?"":"поля обязательно*"}),o=Object.freeze({name:{elements:{input:document.getElementById("modal-order-input-name"),status:document.getElementById("modal-order-input-name-err")},rules:[t.required],errorText:""},email:{elements:{input:document.getElementById("modal-order-input-email"),status:document.getElementById("modal-order-input-email-err")},rules:[t.required],errorText:""},issueDescription:{elements:{input:document.getElementById("modal-order-text-issue"),status:document.getElementById("modal-order-text-issue-err")},rules:[t.required],errorText:""}}),r=e=>{const{status:t,input:r}=o[e].elements,{errorText:n}=o[e];n?r.classList.add("modal-order__input_error"):r.classList.remove("modal-order__input_error"),t.textContent=n},n=e=>{o[e].errorText="",r(e)},d=()=>(Object.keys(o).forEach((e=>{return o[t=e].errorText=(e=>{const t=o[e].rules,r=o[e].elements.input.value;let n="";return t.some((e=>(n=e(r),n))),n})(t),void r(t);var t})),Object.values(o).every((e=>!e.errorText))),l=()=>{Object.keys(o).forEach((e=>n(e)))},s=document.getElementById("modal-order-form"),m=document.getElementById("modal-order-btn-close"),a=document.getElementById("modal-order-btn-submit"),i=document.getElementById("modal-order-label-success"),u=()=>{const e=document.getElementById("modal-order");document.body.classList.remove("modal-open"),e.classList.remove("modal-order_open"),c()},c=()=>{s.reset(),l(),i.style.visibility="hidden",a.innerText="Отправить",a.disabled=!1},y=e=>{e.preventDefault(),l(),setTimeout((async()=>{const e=d();Object.keys(o).forEach((e=>{o[e].elements.input.addEventListener("input",(()=>n(e)))})),e&&(a.innerText="Идет отправка...",a.disabled=!0,await b(),c(),i.style.visibility="visible")}),70)},b=async()=>{const e={name:s.elements.name.value,email:s.elements.email.value,plan:s.elements.issue.value};await new Promise((e=>setTimeout(e,2e3))),console.log("Posted Form Data",e)},v=()=>{document.getElementById("modal-order").classList.add("modal-order_open"),document.body.classList.add("modal-open")};document.querySelectorAll(".menu__link").forEach((e=>{e.href==window.location.href&&e.classList.add("menu__link--active")})),function(){const t=document.querySelector(".burger");document.querySelector(".mobail-menu__close").addEventListener("click",(()=>{e()})),t.addEventListener("click",(()=>{e()}))}(),document.addEventListener("DOMContentLoaded",(()=>{m.onclick=u,s.onsubmit=y,document.getElementById("open-modal").onclick=v}))})();